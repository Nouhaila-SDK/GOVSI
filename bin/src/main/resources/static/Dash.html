<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GSI - Dashboard Directeur</title>
    <style>
        /* üé® D√âBUT DU CODE CSS (Style Coh√©rent) */
        :root {
            --color-primary: #3d5a80; 
            --color-secondary: #f4f1de; 
            --color-text: #333333;
            --color-success: #4CAF50;
            --color-warning: #FFC107;
            --color-danger: #D32F2F;
            --color-card-bg: #ffffff;
            --color-card-shadow: rgba(0, 0, 0, 0.08);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--color-secondary);
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        h1, h2 {
            color: var(--color-primary);
        }

        /* --- Ent√™te de page --- */
        #header-bar {
            background-color: var(--color-primary);
            color: var(--color-secondary);
            padding: 15px 40px;
            font-size: 20px;
            font-weight: 600;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        #header-title {
            flex-grow: 1; 
            text-align: center;
        }

        #header-icons {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .header-icon-link {
            text-decoration: none;
            color: var(--color-secondary);
            font-size: 24px;
            cursor: pointer;
            position: relative;
            transition: color 0.3s;
        }

        .header-icon-link:hover {
            color: #b0c4de; 
        }
        
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -10px;
            background-color: var(--color-danger);
            color: white;
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 10px;
            line-height: 1;
            font-weight: bold;
            pointer-events: none; 
        }

        main {
            max-width: 1400px;
            margin: 25px auto;
            padding: 0 20px;
        }

        /* --- Section Menu de Navigation --- */
        #dashboard-nav {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            padding: 15px;
            background-color: var(--color-card-bg);
            border-radius: 8px;
            box-shadow: 0 4px 10px var(--color-card-shadow);
        }
        
        .nav-link {
            text-decoration: none;
            color: var(--color-primary);
            font-weight: 600;
            padding: 10px 15px;
            border-radius: 5px;
            transition: background-color 0.3s, color 0.3s;
            border: 1px solid var(--color-primary);
        }

        .nav-link:hover {
            background-color: var(--color-primary);
            color: white;
        }
        
        .nav-link.active {
            background-color: var(--color-primary);
            color: white;
        }

        /* --- Section Cartes d'Indicateurs (KPI) --- */
        #kpi-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            margin-bottom: 30px;
        }

        .kpi-card {
            background-color: var(--color-card-bg);
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 15px var(--color-card-shadow);
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            border-left: 5px solid var(--color-primary);
        }

        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .kpi-card h3 {
            margin-top: 0;
            font-size: 16px;
            color: var(--color-text);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .kpi-value {
            font-size: 48px;
            font-weight: bold;
            color: var(--color-danger);
            line-height: 1;
        }
        
        .kpi-card[data-kpi="Ressources"] .kpi-value { color: var(--color-success); }
        .kpi-card[data-kpi="Projets"] .kpi-value { color: var(--color-primary); }
        .kpi-card[data-kpi="Employes"] .kpi-value { color: orange; }

        /* --- Section D√©tails Interactifs --- */
        #details-container {
            background-color: var(--color-card-bg);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 10px var(--color-card-shadow);
            min-height: 200px;
            border-top: 3px solid var(--color-primary);
        }

        #details-title {
            color: var(--color-primary);
            border-bottom: 2px solid #eeeeee;
            padding-bottom: 10px;
            margin-top: 0;
        }

        .details-list {
            list-style: none;
            padding: 0;
            margin-top: 15px;
        }

        .details-list li {
            padding: 10px 0;
            border-bottom: 1px dashed #f0f0f0;
            display: flex;
            justify-content: space-between;
            font-size: 15px;
        }
        
        .details-list li:last-child {
            border-bottom: none;
            font-weight: bold;
        }
        
        .details-list strong {
            color: var(--color-primary);
        }

        .hidden {
            display: none;
        }
        /* üé® FIN DU CODE CSS */
    </style>
</head>
<body>
    <header id="header-bar">
        <a href="Dash.html" class="header-icon-link" title="Dashboard" style="font-size: 16px; width: 24px; text-align: left;">
            üè†
        </a> 
        
        <span id="header-title">Tableau de Bord Strat√©gique (Directeur)</span>

        <div id="header-icons">
            
            <span id="notification-icon" class="header-icon-link" onclick="alert('3 Notifications importantes: 2 projets √† Haut Risque, 1 ressource critique faible.')">
                üîî
                <span class="notification-badge">3</span> 
            </span>

            <a href="RapportsD√©cisionnels.html" class="header-icon-link" title="Acc√©der aux Rapports D√©cisionnels">
                üìà
            </a>
        </div>
    </header>

    <main>
        
        <nav id="dashboard-nav">
            <a href="dash.html" class="nav-link active">üè† Dashboard</a>
            <a href="directeur1.html" class="nav-link">üìã Gestion des Projets (CRUD)</a>
            <a href="Ressources.html" class="nav-link">üíª Gestion des Ressources</a>
            <a href="Risques.html" class="nav-link">‚ö†Ô∏è Suivi des Risques</a>
            <a href="Historique.html" class="nav-link">üìú Historique & Archives</a>
        </nav>
        
        <hr>

        <h2>üìä Indicateurs Cl√©s de Performance (KPI)</h2>

        <section id="kpi-container">
            
            <div class="kpi-card" data-kpi="Ressources">
                <h3>üõ†Ô∏è Ressources Totales</h3>
                <div class="kpi-value" id="kpi-ressources-total">35</div>
                <p style="font-size:12px; margin-top: 10px; color: grey;">Cliquer pour les d√©tails des stocks</p>
            </div>

            <div class="kpi-card" data-kpi="Projets">
                <h3>üìÇ Projets en Cours & Termin√©s</h3>
                <div class="kpi-value" id="kpi-projets-total">3</div>
                <p style="font-size:12px; margin-top: 10px; color: grey;">Cliquer pour les projets par d√©partement</p>
            </div>

            <div class="kpi-card" data-kpi="Employes">
                <h3>üë• Effectifs Totaux</h3>
                <div class="kpi-value" id="kpi-employes-total">14</div>
                <p style="font-size:12px; margin-top: 10px; color: grey;">Cliquer pour la r√©partition des r√¥les</p>
            </div>

        </section>
        
        <hr>

        <section id="details-container">
            <h2 id="details-title">Cliquez sur un indicateur ci-dessus pour afficher les d√©tails ici.</h2>
            
            <ul id="details-ressources" class="details-list hidden">
                <li><span>Stock Total de Ressources:</span> <strong>35 unit√©s</strong></li>
                <li><span>Total dans le D√©partement IT:</span> <strong>12 unit√©s</strong></li>
                <li><span>Total dans le D√©partement Commercial:</span> <strong>8 unit√©s</strong></li>
                <li><span>Total non-affect√©es (Disponible):</span> <strong>5 unit√©s</strong></li>
                <li><span>Total affect√©es √† un projet:</span> <strong>30 unit√©s</strong></li>
            </ul>

            <ul id="details-projets" class="details-list hidden">
                <li><span>Projets pour la Finance:</span> <strong>1</strong></li>
                <li><span>Projets pour le Commercial:</span> <strong>1</strong></li>
                <li><span>Projets pour les RH:</span> <strong>1</strong></li>
                <li><span>Projets pour l'IT:</span> <strong>0</strong></li>
                <li style="border-top: 2px solid var(--color-primary); margin-top: 10px;"><span>Total Projets:</span> <strong>3</strong></li>
            </ul>

            <ul id="details-employes" class="details-list hidden">
                <li><span>Nombre de Chefs de D√©partement:</span> <strong>2</strong></li>
                <li><span>Nombre de Chefs de Projet:</span> <strong>3</strong></li>
                <li><span>Nombre d'Employ√©s affect√©s √† un projet:</span> <strong>9</strong></li>
                <li style="border-top: 2px solid var(--color-primary); margin-top: 10px;"><span>Total Effectifs (Unique):</span> <strong>14</strong></li>
            </ul>

        </section>

    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const kpiCards = document.querySelectorAll('.kpi-card');
            const detailsTitle = document.getElementById('details-title');
            const detailLists = document.querySelectorAll('.details-list');

            const DATA = {
                Ressources: {
                    title: "üõ†Ô∏è D√©tails des Stocks de Ressources",
                },
                Projets: {
                    title: "üìÇ R√©partition des Projets par D√©partement",
                },
                Employes: {
                    title: "üë• R√©partition des Effectifs par R√¥le",
                }
            };

            kpiCards.forEach(card => {
                card.addEventListener('click', () => {
                    const kpiType = card.getAttribute('data-kpi');
                    
                    detailLists.forEach(list => list.classList.add('hidden'));

                    const activeList = document.getElementById(`details-${kpiType.toLowerCase()}`);
                    if (activeList) {
                        activeList.classList.remove('hidden');
                        detailsTitle.textContent = DATA[kpiType].title;
                    }
                });
            });
        });
    </script>
</body>
</html>